# 使用

## 说明

采用语法去解析SQL有其受限的一面，比如下面的例子。

```sql
create table t1(a varchar(128));
create table t2(b varchar(128));

select a,b from t1,t2;

-- 如果我们需要单独解析上面的sql  select a,b from t1,t2;
-- a字段 和 b字段 我们没办法区分是t1的还是t2
-- 所以需要事先知道表结构
```

但是我们可以在SQL里充分利用alias, 显示指定字段是哪个表, 这样解析的效果就会好很多。

```sql
select t1.a, t2,b from t1, t2
```




## 查看帮助

`orax --help`

```shell
orax [OPTIONS]

Options:
  -m [console|file|batch]  三种运行模式, console表示从命令行传入sql, file表示从文件,
                           batch表示批量也是从文件,要求一行一条sql
  -s TEXT                  输入需要转换的SQL, console模式
  -f FILENAME              sql文件
  --excel TEXT             excel文件,里面有映射规则
  --tables TEXT            替换的表名, 格式： source_t1:target_t1,source_t2:target_t2
  --fields TEXT            替换的字段, 格式： source_f1:target_f1,source_f2:target_f2
  --help                   Show this message and exit.
```


## 例子

### SQL写在命令行里

`orax -m console -s "select a,b,c from t" --tables t:p --fields a:a1,b:b1,c:c1` 

### 规则也可以用一个excel文件
`orax -m console -s "select a,b,c from t" --excel examples/mapping.xlsx` 

### 单个SQL放文件里

`orax -m file -f examples\file_mode.txt --tables t:p --fields a:a1,b:b1,c:c1`

### 多个SQL放文件里（要求一行一个SQL）

`orax -m batch -f examples\batch_mode.txt --tables t:p --fields a:a1,b:b1,c:c1`